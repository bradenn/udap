# udap

##### Universal Device Aggregation Platform

Modules can be configured to control computer settings, lights, music, media, or even spaceships.

### Goal

##### Provide a clean, robust, and reliable, centralization for controlling complex or simple items.

## Components

### Modules

Modules are general purpose plugins that can be used to control or interact with other devices or interfaces.

### Daemons

Daemons are unlike modules, a daemon cannot be directly triggered, it is only called when there is a state change from
the UDAP core or from a module.

## Protocols

### Endpoint Authentication

An access key can be generated by creating a new endpoint.

```http request
POST /register/{accessKey}
```

### Websocket Request Format

```http request
GET /ws/{jwtToken}
```

```json
{
  "type": "enroll|action|metadata|reset",
  "payload": {}
}
```

#### Enrollment Payload

```json
{
  "instances": [
    "instanceId1",
    "instanceId2"
  ]
}
```

#### Action Payload

```json
{
  "target": "instance",
  "operation": "create",
  "body": {
    "instance": "instanceId1",
    "action": "actionName"
  }
}
```

#### Metadata Payload

```json
{
}
```

#### Reset Payload

```json
{
  "instance": "instanceId1"
}
```